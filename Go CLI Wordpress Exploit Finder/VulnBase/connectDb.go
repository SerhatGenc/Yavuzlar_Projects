package vulnbase

import (
	"fmt"
	"io/ioutil"
	"net/http"
	"net/url"
)

func ConnectApi() {
	urlEndpoint := "https://vuldb.com/?api"
	apiKey := "e5de8c660070682116b8b012d2259d47"
	recent := "100"

	// POST isteği için form verilerini oluşturma
	formData := url.Values{}
	formData.Set("apikey", apiKey)
	formData.Set("recent", recent)

	// HTTP POST isteği oluşturma
	resp, err := http.PostForm(urlEndpoint, formData)
	if err != nil {
		fmt.Println("HTTP isteği oluşturulamadı:", err)
		return
	}
	defer resp.Body.Close()

	// Yanıtı okuma
	body, err := ioutil.ReadAll(resp.Body)
	if err != nil {
		fmt.Println("Yanıt okunamadı:", err)
		return
	}

	// Yanıtı yazdırma
	fmt.Println("API Yanıtı:", string(body))
}
